{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/NotFoundImage/NotFoundImage.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","services/imageApi.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","assets/notfound.jpg","components/NotFoundImage/NotFoundImage.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchValue","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","reset","toast","warn","className","s","searchbar","form","this","type","button","label","onChange","input","autoComplete","autoFocus","placeholder","Component","api","fetchImagesWithQuery","searchQuery","page","axios","get","then","response","status","data","length","hits","Error","message","ImageGalleryItem","image","descr","onOpenModal","item","onClick","src","alt","Button","NotFindImage","img","title","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClick","event","target","window","addEventListener","removeEventListener","imageInfo","createPortal","overlay","modal","largeImageURL","tags","Status","ImageGallery","images","error","modalImageInfo","handleClickBtn","prevState","toggleModal","prevProps","prevValue","nextValue","API","catch","scrollTo","top","documentElement","scrollHeight","behavior","style","color","textAlign","height","width","timeout","NotFoundImage","gallery","map","webformatURL","id","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f90c5804.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2ey0n\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"NotFoundImage_img__oc4pF\",\"title\":\"NotFoundImage_title__-iCSW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PropTypes from 'prop-types';\n\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchValue: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      searchValue: e.currentTarget.value,\n    });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.searchValue.trim() === '') {\n      toast.warn('Enter correct value');\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchValue);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ searchValue: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.label}>Search</span>\n          </button>\n\n          <input\n            value={this.state.searchValue}\n            onChange={this.handleChange}\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst ACCESS_KEY = '22352284-07c51f530b6e71a5deb2eb1e0';\n\nconst fetchImagesWithQuery = (searchQuery, page) => {\n  return axios\n    .get(\n      `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${ACCESS_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => {\n      if (response.status === 200) {\n        if (response.data.length !== 0) {\n          return response.data.hits;\n        }\n      }\n      if (response.status === 404) {\n        throw new Error(response.message || 'Your query is not find');\n      }\n    });\n};\n\nconst api = {\n  fetchImagesWithQuery,\n};\n\nexport default api;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, descr, onOpenModal }) => {\n  return (\n    <li className={s.item} onClick={onOpenModal}>\n      <img src={image} alt={descr} className={s.image} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.string.isRequired,\n  descr: PropTypes.string.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={s.button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","export default __webpack_public_path__ + \"static/media/notfound.6fed700b.jpg\";","import s from './NotFoundImage.module.css';\nimport image from '../../assets/notfound.jpg';\n\nconst NotFindImage = () => {\n  return (\n    <>\n      <img src={image} alt=\"try to find smth\" className={s.img} />\n      <h2 className={s.title}> Try to find something else</h2>\n    </>\n  );\n};\n\nexport default NotFindImage;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { imageInfo } = this.props;\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleOverlayClick}>\n        <div className={s.modal}>\n          <img src={imageInfo.largeImageURL} alt={imageInfo.tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  imageInfo: PropTypes.shape({\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  }),\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nimport API from '../../services/imageApi';\nimport ImageGalleryItem from 'components/ImageGalleryItem';\nimport Button from 'components/Button';\nimport Loader from 'react-loader-spinner';\nimport NotFoundImage from 'components/NotFoundImage';\nimport Modal from 'components/Modal';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass ImageGallery extends Component {\n  state = {\n    images: null,\n    page: 1,\n    error: null,\n    status: Status.IDLE,\n    modalImageInfo: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevValue = prevProps.searchValue;\n    const nextValue = this.props.searchValue;\n    if (prevValue !== nextValue) {\n      this.setState({ status: Status.PENDING });\n\n      API.fetchImagesWithQuery(nextValue, this.state.page)\n        .then(images => {\n         return this.setState({ images, status: Status.RESOLVED });\n        })\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n    }\n\n    if (prevState.page !== this.state.page) {\n      API.fetchImagesWithQuery(nextValue, this.state.page)\n        .then(images => {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images],\n            status: Status.RESOLVED,\n          }));\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        })\n        .catch(error =>\n          this.setState({\n            error,\n            status: Status.REJECTED,\n          }),\n        );\n    }\n  }\n  handleClickBtn = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n  toggleModal = modalImageInfo => {\n    this.setState({ modalImageInfo });\n  };\n\n  render() {\n    const { images, status, modalImageInfo } = this.state;\n\n    if (status === 'idle') {\n      return (\n        <h1 style={{ color: 'darkblue', textAlign: 'center' }}>\n          Find your image!\n        </h1>\n      );\n    }\n\n    if (status === 'pending') {\n      return (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      );\n    }\n\n    if (status === 'rejected') {\n      return <NotFoundImage />;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className={s.gallery}>\n            {images.map(image => (\n              <ImageGalleryItem\n                onOpenModal={() => this.toggleModal(image)}\n                key={image.id}\n                image={image.webformatURL}\n                descr={image.tags}\n              />\n            ))}\n          </ul>\n          <Button onClick={this.handleClickBtn} />\n          {modalImageInfo && (\n            <Modal onClose={this.toggleModal} imageInfo={modalImageInfo} />\n          )}\n        </>\n      );\n    }\n  }\n}\n\nImageGallery.propTypes = {\n  searchValue: PropTypes.string.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport './App.css';\n\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\n\n\nclass App extends Component {\n  state = {\n    searchValue: '',\n  };\n\n  handleFormSubmit = searchValue => {\n    this.setState({ searchValue });\n  };\n\n  render() {\n    const { searchValue } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchValue={searchValue} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"label\":\"Searchbar_label__1BV3w\",\"input\":\"Searchbar_input__2C4aO\"};"],"sourceRoot":""}